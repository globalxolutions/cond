<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Cond::DSL</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <link href='../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
            <h1 class='name'>
              <span class='type'>module</span>
              Cond::DSL
            </h1>
            <ol class='paths'>
              <li>
                <a target="docwin" href="../../files/lib/cond/dsl_definition_rb.html">lib/cond/dsl_definition.rb</a>
              </li>
            </ol>
            <div class='parent'>
              Parent:
              <strong><a target="docwin" href="../Cond.html">Cond</a></strong>
            </div>
          </div>
          <div id='content'>
            <div id='text'>
              <div id='description'></div>
              <div id='method-list'>
                <h2>Methods</h2>
                <h3>Public Instance</h3>
                <ol>
                  <li><a target="docwin" href="#method-i-handling">handling</a></li>
                  <li><a target="docwin" href="#method-i-restartable">restartable</a></li>
                  <li><a target="docwin" href="#method-i-handle">handle</a></li>
                  <li><a target="docwin" href="#method-i-restart">restart</a></li>
                  <li><a target="docwin" href="#method-i-leave">leave</a></li>
                  <li><a target="docwin" href="#method-i-again">again</a></li>
                  <li><a target="docwin" href="#method-i-invoke_restart">invoke_restart</a></li>
                </ol>
              </div>
              <div id='context'>
              </div>
              <div id='section'>
                <div id='methods'>
                  <h2>Public Instance methods</h2>
                  <div class='method public-instance' id='method-method-i-handling'>
                    <a name='method-i-handling'></a>
                    <div class='synopsis'>
                      <span class='name'>handling</span>
                      <span class='arguments'>(&block)</span>
                    </div>
                    <div class='description'>
                      <p>
                      Begin a handling block.  Inside this block, a matching handler gets called
                      when <tt>raise</tt> gets called.
                      </p>
                    </div>
                    <div class='source'>
                      <a class='source-toggle' href='#' onclick="toggleCode('method-i-handling-source'); return false">
                        [show source]
                      </a>
                      <pre id='method-i-handling-source'>    <span class="ruby-comment cmt"># File lib/cond/dsl_definition.rb, line 8</span>&#x000A; 8:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handling</span>(&amp;<span class="ruby-identifier">block</span>)&#x000A; 9:       <span class="ruby-constant">Cond</span>.<span class="ruby-identifier">run_code_section</span>(<span class="ruby-constant">HandlingSection</span>, &amp;<span class="ruby-identifier">block</span>)&#x000A;10:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                  </div>
                  <div class='method public-instance' id='method-method-i-restartable'>
                    <a name='method-i-restartable'></a>
                    <div class='synopsis'>
                      <span class='name'>restartable</span>
                      <span class='arguments'>(&block)</span>
                    </div>
                    <div class='description'>
                      <p>
                      Begin a restartable block.  A handler may transfer control to one of the
                      restarts in this block.
                      </p>
                    </div>
                    <div class='source'>
                      <a class='source-toggle' href='#' onclick="toggleCode('method-i-restartable-source'); return false">
                        [show source]
                      </a>
                      <pre id='method-i-restartable-source'>    <span class="ruby-comment cmt"># File lib/cond/dsl_definition.rb, line 16</span>&#x000A;16:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">restartable</span>(&amp;<span class="ruby-identifier">block</span>)&#x000A;17:       <span class="ruby-constant">Cond</span>.<span class="ruby-identifier">run_code_section</span>(<span class="ruby-constant">RestartableSection</span>, &amp;<span class="ruby-identifier">block</span>)&#x000A;18:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                  </div>
                  <div class='method public-instance' id='method-method-i-handle'>
                    <a name='method-i-handle'></a>
                    <div class='synopsis'>
                      <span class='name'>handle</span>
                      <span class='arguments'>(arg, message = "", &block)</span>
                    </div>
                    <div class='description'>
                      <p>
                      Define a handler.
                      </p>
                      <p>
                      The exception instance is passed to the block.
                      </p>
                    </div>
                    <div class='source'>
                      <a class='source-toggle' href='#' onclick="toggleCode('method-i-handle-source'); return false">
                        [show source]
                      </a>
                      <pre id='method-i-handle-source'>    <span class="ruby-comment cmt"># File lib/cond/dsl_definition.rb, line 25</span>&#x000A;25:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">message</span> = <span class="ruby-value str">&quot;&quot;</span>, &amp;<span class="ruby-identifier">block</span>)&#x000A;26:       <span class="ruby-constant">Cond</span>.<span class="ruby-identifier">check_context</span>(<span class="ruby-value">:handle</span>)&#x000A;27:       <span class="ruby-constant">Cond</span>.<span class="ruby-identifier">code_section_stack</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">handle</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">message</span>, &amp;<span class="ruby-identifier">block</span>)&#x000A;28:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                  </div>
                  <div class='method public-instance' id='method-method-i-restart'>
                    <a name='method-i-restart'></a>
                    <div class='synopsis'>
                      <span class='name'>restart</span>
                      <span class='arguments'>(arg, message = "", &block)</span>
                    </div>
                    <div class='description'>
                      <p>
                      Define a restart.
                      </p>
                      <p>
                      When a handler calls <a
                      href="DSL.html#method-i-invoke_restart">invoke_restart</a>, it may pass
                      additional arguments which are in turn passed to &amp;block.
                      </p>
                    </div>
                    <div class='source'>
                      <a class='source-toggle' href='#' onclick="toggleCode('method-i-restart-source'); return false">
                        [show source]
                      </a>
                      <pre id='method-i-restart-source'>    <span class="ruby-comment cmt"># File lib/cond/dsl_definition.rb, line 36</span>&#x000A;36:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">restart</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">message</span> = <span class="ruby-value str">&quot;&quot;</span>, &amp;<span class="ruby-identifier">block</span>)&#x000A;37:       <span class="ruby-constant">Cond</span>.<span class="ruby-identifier">check_context</span>(<span class="ruby-value">:restart</span>)&#x000A;38:       <span class="ruby-constant">Cond</span>.<span class="ruby-identifier">code_section_stack</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">restart</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">message</span>, &amp;<span class="ruby-identifier">block</span>)&#x000A;39:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                  </div>
                  <div class='method public-instance' id='method-method-i-leave'>
                    <a name='method-i-leave'></a>
                    <div class='synopsis'>
                      <span class='name'>leave</span>
                      <span class='arguments'>(*args)</span>
                    </div>
                    <div class='description'>
                      <p>
                      Leave the current handling or restartable block, optionally providing a
                      value for the block.
                      </p>
                      <p>
                      The semantics are the same as &#8216;return&#8217;.  When given multiple
                      arguments, it returns an array.  When given one argument, it returns only
                      that argument (not an array).
                      </p>
                    </div>
                    <div class='source'>
                      <a class='source-toggle' href='#' onclick="toggleCode('method-i-leave-source'); return false">
                        [show source]
                      </a>
                      <pre id='method-i-leave-source'>    <span class="ruby-comment cmt"># File lib/cond/dsl_definition.rb, line 49</span>&#x000A;49:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">leave</span>(*<span class="ruby-identifier">args</span>)&#x000A;50:       <span class="ruby-constant">Cond</span>.<span class="ruby-identifier">check_context</span>(<span class="ruby-value">:leave</span>)&#x000A;51:       <span class="ruby-constant">Cond</span>.<span class="ruby-identifier">code_section_stack</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">leave</span>(*<span class="ruby-identifier">args</span>)&#x000A;52:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                  </div>
                  <div class='method public-instance' id='method-method-i-again'>
                    <a name='method-i-again'></a>
                    <div class='synopsis'>
                      <span class='name'>again</span>
                      <span class='arguments'>(*args)</span>
                    </div>
                    <div class='description'>
                      <p>
                      Run the handling or restartable block again.
                      </p>
                      <p>
                      Optionally pass arguments which are given to the block.
                      </p>
                    </div>
                    <div class='source'>
                      <a class='source-toggle' href='#' onclick="toggleCode('method-i-again-source'); return false">
                        [show source]
                      </a>
                      <pre id='method-i-again-source'>    <span class="ruby-comment cmt"># File lib/cond/dsl_definition.rb, line 59</span>&#x000A;59:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">again</span>(*<span class="ruby-identifier">args</span>)&#x000A;60:       <span class="ruby-constant">Cond</span>.<span class="ruby-identifier">check_context</span>(<span class="ruby-value">:again</span>)&#x000A;61:       <span class="ruby-constant">Cond</span>.<span class="ruby-identifier">code_section_stack</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">again</span>(*<span class="ruby-identifier">args</span>)&#x000A;62:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                  </div>
                  <div class='method public-instance' id='method-method-i-invoke_restart'>
                    <a name='method-i-invoke_restart'></a>
                    <div class='synopsis'>
                      <span class='name'>invoke_restart</span>
                      <span class='arguments'>(name, *args, &block)</span>
                    </div>
                    <div class='description'>
                      <p>
                      Call a restart from a handler; optionally pass it some arguments.
                      </p>
                    </div>
                    <div class='source'>
                      <a class='source-toggle' href='#' onclick="toggleCode('method-i-invoke_restart-source'); return false">
                        [show source]
                      </a>
                      <pre id='method-i-invoke_restart-source'>    <span class="ruby-comment cmt"># File lib/cond/dsl_definition.rb, line 67</span>&#x000A;67:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">invoke_restart</span>(<span class="ruby-identifier">name</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)&#x000A;68:       <span class="ruby-constant">Cond</span>.<span class="ruby-identifier">available_restarts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">name</span>) {&#x000A;69:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoRestartError</span>,&#x000A;70:         <span class="ruby-node">&quot;Did not find `#{name.inspect}' in available restarts&quot;</span>&#x000A;71:       }.<span class="ruby-identifier">call</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)&#x000A;72:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
